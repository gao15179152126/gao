<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.shopping.dao.OrderDao">
    <resultMap id="orderResultMap" type="Order">
        <id property="orderId" column="oid"/>
        <result property="orderDate" column="odate"/>
        <result property="username" column="username"/>
        <result property="productId" column="pid"/>
        <result property="orderMoney" column="omoney"/>
        <result property="orderNumber" column="onum"/>
    </resultMap>

    <!-- 自动生成订单 -->
    <insert id="autoAddOrder" >
        insert into orderlist(odate,pid,username,omoney,onum)
        value (#{order.orderDate},#{order.productId},#{order.username},#{order.orderMoney},#{order.orderNumber})
    </insert>

    <!-- 根据用户名称查询 -->
    <select id="queryOrderByUsername" resultMap="orderResultMap">
        select *
        from orderlist
        where username = #{username}
    </select>

    <!-- 查询所有订单 -->
    <select id="queryAllOrder" resultMap="orderResultMap">
        select *
        from orderlist
    </select>

</mapper>